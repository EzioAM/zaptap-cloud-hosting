{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"]}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"]}},{"name":"../EventEmitter/NativeEventEmitter","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0},"end":{"line":11,"column":68}}],"key":"Jk6GODPsD+OS/XTex7hK2MSfvW0=","exportNames":["*"]}},{"name":"../Utilities/logError","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":12,"column":0},"end":{"line":12,"column":45}}],"key":"HeDHWmpyfSBCg3zQ2JX/zcGgw40=","exportNames":["*"]}},{"name":"../Utilities/Platform","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":13,"column":0},"end":{"line":13,"column":45}}],"key":"WyqnBhspP5BAR0xvCwqfBv/v4uA=","exportNames":["*"]}},{"name":"./NativeAppState","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":15,"column":0},"end":{"line":15,"column":46}}],"key":"i/MOPtd2F2wlopZYHexIIxBeKo0=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _classCallCheck2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n  var _createClass2 = _interopRequireDefault(require(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n  var _NativeEventEmitter = _interopRequireDefault(require(_dependencyMap[3], \"../EventEmitter/NativeEventEmitter\"));\n  var _logError = _interopRequireDefault(require(_dependencyMap[4], \"../Utilities/logError\"));\n  var _Platform = _interopRequireDefault(require(_dependencyMap[5], \"../Utilities/Platform\"));\n  var _NativeAppState = _interopRequireDefault(require(_dependencyMap[6], \"./NativeAppState\"));\n  var AppStateImpl = /*#__PURE__*/function () {\n    function AppStateImpl() {\n      var _this = this;\n      (0, _classCallCheck2.default)(this, AppStateImpl);\n      this.currentState = null;\n      if (_NativeAppState.default == null) {\n        this.isAvailable = false;\n      } else {\n        this.isAvailable = true;\n        var emitter = new _NativeEventEmitter.default(_Platform.default.OS !== 'ios' ? null : _NativeAppState.default);\n        this._emitter = emitter;\n        this.currentState = _NativeAppState.default.getConstants().initialAppState;\n        var eventUpdated = false;\n        emitter.addListener('appStateDidChange', function (appStateData) {\n          eventUpdated = true;\n          _this.currentState = appStateData.app_state;\n        });\n        _NativeAppState.default.getCurrentAppState(function (appStateData) {\n          if (!eventUpdated && _this.currentState !== appStateData.app_state) {\n            _this.currentState = appStateData.app_state;\n            emitter.emit('appStateDidChange', appStateData);\n          }\n        }, _logError.default);\n      }\n    }\n    return (0, _createClass2.default)(AppStateImpl, [{\n      key: \"addEventListener\",\n      value: function addEventListener(type, handler) {\n        var emitter = this._emitter;\n        if (emitter == null) {\n          throw new Error('Cannot use AppState when `isAvailable` is false.');\n        }\n        switch (type) {\n          case 'change':\n            var changeHandler = handler;\n            return emitter.addListener('appStateDidChange', function (appStateData) {\n              changeHandler(appStateData.app_state);\n            });\n          case 'memoryWarning':\n            var memoryWarningHandler = handler;\n            return emitter.addListener('memoryWarning', memoryWarningHandler);\n          case 'blur':\n          case 'focus':\n            var focusOrBlurHandler = handler;\n            return emitter.addListener('appStateFocusChange', function (hasFocus) {\n              if (type === 'blur' && !hasFocus) {\n                focusOrBlurHandler();\n              }\n              if (type === 'focus' && hasFocus) {\n                focusOrBlurHandler();\n              }\n            });\n        }\n        throw new Error('Trying to subscribe to unknown event: ' + type);\n      }\n    }]);\n  }();\n  var AppState = new AppStateImpl();\n  var _default = exports.default = AppState;\n});","lineCount":72,"map":[[9,2,11,0],[9,6,11,0,"_NativeEventEmitter"],[9,25,11,0],[9,28,11,0,"_interopRequireDefault"],[9,50,11,0],[9,51,11,0,"require"],[9,58,11,0],[9,59,11,0,"_dependencyMap"],[9,73,11,0],[10,2,12,0],[10,6,12,0,"_logError"],[10,15,12,0],[10,18,12,0,"_interopRequireDefault"],[10,40,12,0],[10,41,12,0,"require"],[10,48,12,0],[10,49,12,0,"_dependencyMap"],[10,63,12,0],[11,2,13,0],[11,6,13,0,"_Platform"],[11,15,13,0],[11,18,13,0,"_interopRequireDefault"],[11,40,13,0],[11,41,13,0,"require"],[11,48,13,0],[11,49,13,0,"_dependencyMap"],[11,63,13,0],[12,2,15,0],[12,6,15,0,"_NativeAppState"],[12,21,15,0],[12,24,15,0,"_interopRequireDefault"],[12,46,15,0],[12,47,15,0,"require"],[12,54,15,0],[12,55,15,0,"_dependencyMap"],[12,69,15,0],[13,2,15,46],[13,6,54,6,"AppStateImpl"],[13,18,54,18],[14,4,60,2],[14,13,60,2,"AppStateImpl"],[14,26,60,2],[14,28,60,16],[15,6,60,16],[15,10,60,16,"_this"],[15,15,60,16],[16,6,60,16],[16,10,60,16,"_classCallCheck2"],[16,26,60,16],[16,27,60,16,"default"],[16,34,60,16],[16,42,60,16,"AppStateImpl"],[16,54,60,16],[17,6,60,16],[17,11,55,2,"currentState"],[17,23,55,14],[17,26,55,26],[17,30,55,30],[18,6,61,4],[18,10,61,8,"NativeAppState"],[18,33,61,22],[18,37,61,26],[18,41,61,30],[18,43,61,32],[19,8,62,6],[19,12,62,10],[19,13,62,11,"isAvailable"],[19,24,62,22],[19,27,62,25],[19,32,62,30],[20,6,63,4],[20,7,63,5],[20,13,63,11],[21,8,64,6],[21,12,64,10],[21,13,64,11,"isAvailable"],[21,24,64,22],[21,27,64,25],[21,31,64,29],[22,8,66,6],[22,12,66,12,"emitter"],[22,19,66,71],[22,22,67,8],[22,26,67,12,"NativeEventEmitter"],[22,53,67,30],[22,54,70,10,"Platform"],[22,71,70,18],[22,72,70,19,"OS"],[22,74,70,21],[22,79,70,26],[22,84,70,31],[22,87,70,34],[22,91,70,38],[22,94,70,41,"NativeAppState"],[22,117,71,8],[22,118,71,9],[23,8,72,6],[23,12,72,10],[23,13,72,11,"_emitter"],[23,21,72,19],[23,24,72,22,"emitter"],[23,31,72,29],[24,8,74,6],[24,12,74,10],[24,13,74,11,"currentState"],[24,25,74,23],[24,28,74,26,"NativeAppState"],[24,51,74,40],[24,52,74,41,"getConstants"],[24,64,74,53],[24,65,74,54],[24,66,74,55],[24,67,74,56,"initialAppState"],[24,82,74,71],[25,8,76,6],[25,12,76,10,"eventUpdated"],[25,24,76,22],[25,27,76,25],[25,32,76,30],[26,8,82,6,"emitter"],[26,15,82,13],[26,16,82,14,"addListener"],[26,27,82,25],[26,28,82,26],[26,47,82,45],[26,49,82,47],[26,59,82,47,"appStateData"],[26,71,82,59],[26,73,82,63],[27,10,83,8,"eventUpdated"],[27,22,83,20],[27,25,83,23],[27,29,83,27],[28,10,84,8,"_this"],[28,15,84,12],[28,16,84,13,"currentState"],[28,28,84,25],[28,31,84,28,"appStateData"],[28,43,84,40],[28,44,84,41,"app_state"],[28,53,84,50],[29,8,85,6],[29,9,85,7],[29,10,85,8],[30,8,91,6,"NativeAppState"],[30,31,91,20],[30,32,91,21,"getCurrentAppState"],[30,50,91,39],[30,51,91,40],[30,61,91,40,"appStateData"],[30,73,91,52],[30,75,91,56],[31,10,93,8],[31,14,93,12],[31,15,93,13,"eventUpdated"],[31,27,93,25],[31,31,93,29,"_this"],[31,36,93,33],[31,37,93,34,"currentState"],[31,49,93,46],[31,54,93,51,"appStateData"],[31,66,93,63],[31,67,93,64,"app_state"],[31,76,93,73],[31,78,93,75],[32,12,94,10,"_this"],[32,17,94,14],[32,18,94,15,"currentState"],[32,30,94,27],[32,33,94,30,"appStateData"],[32,45,94,42],[32,46,94,43,"app_state"],[32,55,94,52],[33,12,96,10,"emitter"],[33,19,96,17],[33,20,96,18,"emit"],[33,24,96,22],[33,25,96,23],[33,44,96,42],[33,46,96,44,"appStateData"],[33,58,96,56],[33,59,96,57],[34,10,97,8],[35,8,98,6],[35,9,98,7],[35,11,98,9,"logError"],[35,28,98,17],[35,29,98,18],[36,6,99,4],[37,4,100,2],[38,4,100,3],[38,15,100,3,"_createClass2"],[38,28,100,3],[38,29,100,3,"default"],[38,36,100,3],[38,38,100,3,"AppStateImpl"],[38,50,100,3],[39,6,100,3,"key"],[39,9,100,3],[40,6,100,3,"value"],[40,11,100,3],[40,13,108,2],[40,22,108,2,"addEventListener"],[40,38,108,18,"addEventListener"],[40,39,109,4,"type"],[40,43,109,11],[40,45,110,4,"handler"],[40,52,110,67],[40,54,111,23],[41,8,112,4],[41,12,112,10,"emitter"],[41,19,112,17],[41,22,112,20],[41,26,112,24],[41,27,112,25,"_emitter"],[41,35,112,33],[42,8,113,4],[42,12,113,8,"emitter"],[42,19,113,15],[42,23,113,19],[42,27,113,23],[42,29,113,25],[43,10,114,6],[43,16,114,12],[43,20,114,16,"Error"],[43,25,114,21],[43,26,114,22],[43,76,114,72],[43,77,114,73],[44,8,115,4],[45,8,116,4],[45,16,116,12,"type"],[45,20,116,16],[46,10,117,6],[46,15,117,11],[46,23,117,19],[47,12,119,8],[47,16,119,14,"changeHandler"],[47,29,119,51],[47,32,119,54,"handler"],[47,39,119,61],[48,12,120,8],[48,19,120,15,"emitter"],[48,26,120,22],[48,27,120,23,"addListener"],[48,38,120,34],[48,39,120,35],[48,58,120,54],[48,60,120,56],[48,70,120,56,"appStateData"],[48,82,120,68],[48,84,120,72],[49,14,121,10,"changeHandler"],[49,27,121,23],[49,28,121,24,"appStateData"],[49,40,121,36],[49,41,121,37,"app_state"],[49,50,121,46],[49,51,121,47],[50,12,122,8],[50,13,122,9],[50,14,122,10],[51,10,123,6],[51,15,123,11],[51,30,123,26],[52,12,125,8],[52,16,125,14,"memoryWarningHandler"],[52,36,125,46],[52,39,125,49,"handler"],[52,46,125,56],[53,12,126,8],[53,19,126,15,"emitter"],[53,26,126,22],[53,27,126,23,"addListener"],[53,38,126,34],[53,39,126,35],[53,54,126,50],[53,56,126,52,"memoryWarningHandler"],[53,76,126,72],[53,77,126,73],[54,10,127,6],[54,15,127,11],[54,21,127,17],[55,10,128,6],[55,15,128,11],[55,22,128,18],[56,12,130,8],[56,16,130,14,"focusOrBlurHandler"],[56,34,130,44],[56,37,130,47,"handler"],[56,44,130,54],[57,12,131,8],[57,19,131,15,"emitter"],[57,26,131,22],[57,27,131,23,"addListener"],[57,38,131,34],[57,39,131,35],[57,60,131,56],[57,62,131,58],[57,72,131,58,"hasFocus"],[57,80,131,66],[57,82,131,70],[58,14,132,10],[58,18,132,14,"type"],[58,22,132,18],[58,27,132,23],[58,33,132,29],[58,37,132,33],[58,38,132,34,"hasFocus"],[58,46,132,42],[58,48,132,44],[59,16,133,12,"focusOrBlurHandler"],[59,34,133,30],[59,35,133,31],[59,36,133,32],[60,14,134,10],[61,14,135,10],[61,18,135,14,"type"],[61,22,135,18],[61,27,135,23],[61,34,135,30],[61,38,135,34,"hasFocus"],[61,46,135,42],[61,48,135,44],[62,16,136,12,"focusOrBlurHandler"],[62,34,136,30],[62,35,136,31],[62,36,136,32],[63,14,137,10],[64,12,138,8],[64,13,138,9],[64,14,138,10],[65,8,139,4],[66,8,140,4],[66,14,140,10],[66,18,140,14,"Error"],[66,23,140,19],[66,24,140,20],[66,64,140,60],[66,67,140,63,"type"],[66,71,140,67],[66,72,140,68],[67,6,141,2],[68,4,141,3],[69,2,141,3],[70,2,144,0],[70,6,144,6,"AppState"],[70,14,144,28],[70,17,144,31],[70,21,144,35,"AppStateImpl"],[70,33,144,47],[70,34,144,48],[70,35,144,49],[71,2,144,50],[71,6,144,50,"_default"],[71,14,144,50],[71,17,144,50,"exports"],[71,24,144,50],[71,25,144,50,"default"],[71,32,144,50],[71,35,145,15,"AppState"],[71,43,145,23],[72,0,145,23],[72,3]],"functionMap":{"names":["<global>","AppStateImpl","AppStateImpl#constructor","emitter.addListener$argument_1","NativeAppState.getCurrentAppState$argument_0","AppStateImpl#addEventListener"],"mappings":"AAA;ACqD;ECM;+CCsB;ODG;wCEM;OFO;GDE;EIQ;wDFY;SEE;0DFS;SEO;GJG;CDC"}},"type":"js/module"}]}