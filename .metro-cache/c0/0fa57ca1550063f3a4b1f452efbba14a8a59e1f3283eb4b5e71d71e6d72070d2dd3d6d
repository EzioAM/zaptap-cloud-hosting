{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"]}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"]}},{"name":"react-redux","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":42,"index":42}}],"key":"kZ4/idPhugyPFHafSDEx3FuasdM=","exportNames":["*"]}},{"name":"../constants/roles","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":81},"end":{"line":3,"column":76,"index":157}}],"key":"yD2zk7uDqwHiMgOxXJyoaT6c6gE=","exportNames":["*"]}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":158},"end":{"line":4,"column":44,"index":202}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"]}},{"name":"../services/auth/RoleService","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":203},"end":{"line":5,"column":59,"index":262}}],"key":"nsJSHc3uLA5DUJxGuAROF6Wi/mc=","exportNames":["*"]}},{"name":"../utils/EventLogger","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":263},"end":{"line":6,"column":51,"index":314}}],"key":"yE50x5RqRtg1gxlUHvyLXkSBAF0=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0]);\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useUserRole = undefined;\n  var _asyncToGenerator2 = _interopRequireDefault(require(_dependencyMap[1]));\n  var _slicedToArray2 = _interopRequireDefault(require(_dependencyMap[2]));\n  var _reactRedux = require(_dependencyMap[3]);\n  var _roles = require(_dependencyMap[4]);\n  var _react = require(_dependencyMap[5]);\n  var _RoleService = require(_dependencyMap[6]);\n  var _EventLogger = require(_dependencyMap[7]);\n  var useUserRole = () => {\n    var _useSelector = (0, _reactRedux.useSelector)(state => state.auth),\n      user = _useSelector.user,\n      isAuthenticated = _useSelector.isAuthenticated;\n    var _useState = (0, _react.useState)(_roles.USER_ROLES.USER),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      role = _useState2[0],\n      setRole = _useState2[1];\n    var _useState3 = (0, _react.useState)(true),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      isLoading = _useState4[0],\n      setIsLoading = _useState4[1];\n    (0, _react.useEffect)(() => {\n      var checkRole = /*#__PURE__*/function () {\n        var _ref = (0, _asyncToGenerator2.default)(function* () {\n          if (!isAuthenticated || !user) {\n            setRole(_roles.USER_ROLES.USER);\n            setIsLoading(false);\n            return;\n          }\n          try {\n            // Quick check for developer emails\n            if (_roles.DEVELOPER_EMAILS.includes(user.email.toLowerCase())) {\n              setRole(_roles.USER_ROLES.DEVELOPER);\n              setIsLoading(false);\n              return;\n            }\n\n            // Check with RoleService for database role\n            var userRole = yield _RoleService.RoleService.getCurrentUserRole();\n            setRole(userRole);\n          } catch (error) {\n            _EventLogger.EventLogger.error('useUserRole', 'Error checking user role:', error);\n            setRole(_roles.USER_ROLES.USER);\n          } finally {\n            setIsLoading(false);\n          }\n        });\n        return function checkRole() {\n          return _ref.apply(this, arguments);\n        };\n      }();\n      checkRole();\n    }, [user, isAuthenticated]);\n    var isDeveloper = role === _roles.USER_ROLES.DEVELOPER || role === _roles.USER_ROLES.SUPER_ADMIN;\n    var isAdmin = role === _roles.USER_ROLES.ADMIN || role === _roles.USER_ROLES.SUPER_ADMIN;\n    var isSuperAdmin = role === _roles.USER_ROLES.SUPER_ADMIN;\n    return {\n      role,\n      isDeveloper,\n      isAdmin,\n      isSuperAdmin,\n      isLoading,\n      userEmail: user?.email || ''\n    };\n  };\n  exports.useUserRole = useUserRole;\n});","lineCount":71,"map":[[9,2,1,0],[9,6,1,0,"_reactRedux"],[9,17,1,0],[9,20,1,0,"require"],[9,27,1,0],[9,28,1,0,"_dependencyMap"],[9,42,1,0],[10,2,3,0],[10,6,3,0,"_roles"],[10,12,3,0],[10,15,3,0,"require"],[10,22,3,0],[10,23,3,0,"_dependencyMap"],[10,37,3,0],[11,2,4,0],[11,6,4,0,"_react"],[11,12,4,0],[11,15,4,0,"require"],[11,22,4,0],[11,23,4,0,"_dependencyMap"],[11,37,4,0],[12,2,5,0],[12,6,5,0,"_RoleService"],[12,18,5,0],[12,21,5,0,"require"],[12,28,5,0],[12,29,5,0,"_dependencyMap"],[12,43,5,0],[13,2,6,0],[13,6,6,0,"_EventLogger"],[13,18,6,0],[13,21,6,0,"require"],[13,28,6,0],[13,29,6,0,"_dependencyMap"],[13,43,6,0],[14,2,8,7],[14,6,8,13,"useUserRole"],[14,17,8,24],[14,20,8,27,"useUserRole"],[14,21,8,27],[14,26,8,33],[15,4,9,2],[15,8,9,2,"_useSelector"],[15,20,9,2],[15,23,9,36],[15,27,9,36,"useSelector"],[15,50,9,47],[15,52,9,49,"state"],[15,57,9,65],[15,61,9,70,"state"],[15,66,9,75],[15,67,9,76,"auth"],[15,71,9,80],[15,72,9,81],[16,6,9,10,"user"],[16,10,9,14],[16,13,9,14,"_useSelector"],[16,25,9,14],[16,26,9,10,"user"],[16,30,9,14],[17,6,9,16,"isAuthenticated"],[17,21,9,31],[17,24,9,31,"_useSelector"],[17,36,9,31],[17,37,9,16,"isAuthenticated"],[17,52,9,31],[18,4,10,2],[18,8,10,2,"_useState"],[18,17,10,2],[18,20,10,26],[18,24,10,26,"useState"],[18,39,10,34],[18,41,10,45,"USER_ROLES"],[18,58,10,55],[18,59,10,56,"USER"],[18,63,10,60],[18,64,10,61],[19,6,10,61,"_useState2"],[19,16,10,61],[19,23,10,61,"_slicedToArray2"],[19,38,10,61],[19,39,10,61,"default"],[19,46,10,61],[19,48,10,61,"_useState"],[19,57,10,61],[20,6,10,9,"role"],[20,10,10,13],[20,13,10,13,"_useState2"],[20,23,10,13],[21,6,10,15,"setRole"],[21,13,10,22],[21,16,10,22,"_useState2"],[21,26,10,22],[22,4,11,2],[22,8,11,2,"_useState3"],[22,18,11,2],[22,21,11,36],[22,25,11,36,"useState"],[22,40,11,44],[22,42,11,45],[22,46,11,49],[22,47,11,50],[23,6,11,50,"_useState4"],[23,16,11,50],[23,23,11,50,"_slicedToArray2"],[23,38,11,50],[23,39,11,50,"default"],[23,46,11,50],[23,48,11,50,"_useState3"],[23,58,11,50],[24,6,11,9,"isLoading"],[24,15,11,18],[24,18,11,18,"_useState4"],[24,28,11,18],[25,6,11,20,"setIsLoading"],[25,18,11,32],[25,21,11,32,"_useState4"],[25,31,11,32],[26,4,13,2],[26,8,13,2,"useEffect"],[26,24,13,11],[26,26,13,12],[26,32,13,18],[27,6,14,4],[27,10,14,10,"checkRole"],[27,19,14,19],[28,8,14,19],[28,12,14,19,"_ref"],[28,16,14,19],[28,23,14,19,"_asyncToGenerator2"],[28,41,14,19],[28,42,14,19,"default"],[28,49,14,19],[28,51,14,22],[28,64,14,34],[29,10,15,6],[29,14,15,10],[29,15,15,11,"isAuthenticated"],[29,30,15,26],[29,34,15,30],[29,35,15,31,"user"],[29,39,15,35],[29,41,15,37],[30,12,16,8,"setRole"],[30,19,16,15],[30,20,16,16,"USER_ROLES"],[30,37,16,26],[30,38,16,27,"USER"],[30,42,16,31],[30,43,16,32],[31,12,17,8,"setIsLoading"],[31,24,17,20],[31,25,17,21],[31,30,17,26],[31,31,17,27],[32,12,18,8],[33,10,19,6],[34,10,21,6],[34,14,21,10],[35,12,22,8],[36,12,23,8],[36,16,23,12,"DEVELOPER_EMAILS"],[36,39,23,28],[36,40,23,29,"includes"],[36,48,23,37],[36,49,23,38,"user"],[36,53,23,42],[36,54,23,43,"email"],[36,59,23,48],[36,60,23,49,"toLowerCase"],[36,71,23,60],[36,72,23,61],[36,73,23,62],[36,74,23,63],[36,76,23,65],[37,14,24,10,"setRole"],[37,21,24,17],[37,22,24,18,"USER_ROLES"],[37,39,24,28],[37,40,24,29,"DEVELOPER"],[37,49,24,38],[37,50,24,39],[38,14,25,10,"setIsLoading"],[38,26,25,22],[38,27,25,23],[38,32,25,28],[38,33,25,29],[39,14,26,10],[40,12,27,8],[42,12,29,8],[43,12,30,8],[43,16,30,14,"userRole"],[43,24,30,22],[43,33,30,31,"RoleService"],[43,57,30,42],[43,58,30,43,"getCurrentUserRole"],[43,76,30,61],[43,77,30,62],[43,78,30,63],[44,12,31,8,"setRole"],[44,19,31,15],[44,20,31,16,"userRole"],[44,28,31,36],[44,29,31,37],[45,10,32,6],[45,11,32,7],[45,12,32,8],[45,19,32,15,"error"],[45,24,32,20],[45,26,32,22],[46,12,33,8,"EventLogger"],[46,36,33,19],[46,37,33,20,"error"],[46,42,33,25],[46,43,33,26],[46,56,33,39],[46,58,33,41],[46,85,33,68],[46,87,33,70,"error"],[46,92,33,84],[46,93,33,85],[47,12,34,8,"setRole"],[47,19,34,15],[47,20,34,16,"USER_ROLES"],[47,37,34,26],[47,38,34,27,"USER"],[47,42,34,31],[47,43,34,32],[48,10,35,6],[48,11,35,7],[48,20,35,16],[49,12,36,8,"setIsLoading"],[49,24,36,20],[49,25,36,21],[49,30,36,26],[49,31,36,27],[50,10,37,6],[51,8,38,4],[51,9,38,5],[52,8,38,5],[52,24,14,10,"checkRole"],[52,33,14,19,"checkRole"],[52,34,14,19],[53,10,14,19],[53,17,14,19,"_ref"],[53,21,14,19],[53,22,14,19,"apply"],[53,27,14,19],[53,34,14,19,"arguments"],[53,43,14,19],[54,8,14,19],[55,6,14,19],[55,9,38,5],[56,6,40,4,"checkRole"],[56,15,40,13],[56,16,40,14],[56,17,40,15],[57,4,41,2],[57,5,41,3],[57,7,41,5],[57,8,41,6,"user"],[57,12,41,10],[57,14,41,12,"isAuthenticated"],[57,29,41,27],[57,30,41,28],[57,31,41,29],[58,4,43,2],[58,8,43,8,"isDeveloper"],[58,19,43,19],[58,22,43,22,"role"],[58,26,43,26],[58,31,43,31,"USER_ROLES"],[58,48,43,41],[58,49,43,42,"DEVELOPER"],[58,58,43,51],[58,62,43,55,"role"],[58,66,43,59],[58,71,43,64,"USER_ROLES"],[58,88,43,74],[58,89,43,75,"SUPER_ADMIN"],[58,100,43,86],[59,4,44,2],[59,8,44,8,"isAdmin"],[59,15,44,15],[59,18,44,18,"role"],[59,22,44,22],[59,27,44,27,"USER_ROLES"],[59,44,44,37],[59,45,44,38,"ADMIN"],[59,50,44,43],[59,54,44,47,"role"],[59,58,44,51],[59,63,44,56,"USER_ROLES"],[59,80,44,66],[59,81,44,67,"SUPER_ADMIN"],[59,92,44,78],[60,4,45,2],[60,8,45,8,"isSuperAdmin"],[60,20,45,20],[60,23,45,23,"role"],[60,27,45,27],[60,32,45,32,"USER_ROLES"],[60,49,45,42],[60,50,45,43,"SUPER_ADMIN"],[60,61,45,54],[61,4,47,2],[61,11,47,9],[62,6,48,4,"role"],[62,10,48,8],[63,6,49,4,"isDeveloper"],[63,17,49,15],[64,6,50,4,"isAdmin"],[64,13,50,11],[65,6,51,4,"isSuperAdmin"],[65,18,51,16],[66,6,52,4,"isLoading"],[66,15,52,13],[67,6,53,4,"userEmail"],[67,15,53,13],[67,17,53,15,"user"],[67,21,53,19],[67,23,53,21,"email"],[67,28,53,26],[67,32,53,30],[68,4,54,2],[68,5,54,3],[69,2,55,0],[69,3,55,1],[70,2,55,2,"exports"],[70,9,55,2],[70,10,55,2,"useUserRole"],[70,21,55,2],[70,24,55,2,"useUserRole"],[70,35,55,2],[71,0,55,2],[71,3]],"functionMap":{"names":["<global>","useUserRole","useSelector$argument_0","useEffect$argument_0","checkRole"],"mappings":"AAA;2BCO;gDCC,gCD;YEI;sBCC;KDwB;GFG;CDc"}},"type":"js/module"}]}