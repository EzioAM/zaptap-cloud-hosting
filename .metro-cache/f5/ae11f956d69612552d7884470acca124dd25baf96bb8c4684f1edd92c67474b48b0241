{"dependencies":[{"name":"../../../Libraries/Network/XMLHttpRequest","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":16,"column":2},"end":{"line":16,"column":54}}],"key":"qNDGQJ0hVRex3vOJLGddOAHrNJY=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var XMLHttpRequest = require(_dependencyMap[0], \"../../../Libraries/Network/XMLHttpRequest\").default;\n  var originalXHROpen = XMLHttpRequest.prototype.open;\n  var originalXHRSend = XMLHttpRequest.prototype.send;\n  var originalXHRSetRequestHeader = XMLHttpRequest.prototype.setRequestHeader;\n  var openCallback;\n  var sendCallback;\n  var requestHeaderCallback;\n  var headerReceivedCallback;\n  var responseCallback;\n  var _isInterceptorEnabled = false;\n  var XHRInterceptor = {\n    setOpenCallback: function setOpenCallback(callback) {\n      openCallback = callback;\n    },\n    setSendCallback: function setSendCallback(callback) {\n      sendCallback = callback;\n    },\n    setHeaderReceivedCallback: function setHeaderReceivedCallback(callback) {\n      headerReceivedCallback = callback;\n    },\n    setResponseCallback: function setResponseCallback(callback) {\n      responseCallback = callback;\n    },\n    setRequestHeaderCallback: function setRequestHeaderCallback(callback) {\n      requestHeaderCallback = callback;\n    },\n    isInterceptorEnabled: function isInterceptorEnabled() {\n      return _isInterceptorEnabled;\n    },\n    enableInterception: function enableInterception() {\n      if (_isInterceptorEnabled) {\n        return;\n      }\n      XMLHttpRequest.prototype.open = function (method, url) {\n        if (openCallback) {\n          openCallback(method, url, this);\n        }\n        originalXHROpen.apply(this, arguments);\n      };\n      XMLHttpRequest.prototype.setRequestHeader = function (header, value) {\n        if (requestHeaderCallback) {\n          requestHeaderCallback(header, value, this);\n        }\n        originalXHRSetRequestHeader.apply(this, arguments);\n      };\n      XMLHttpRequest.prototype.send = function (data) {\n        var _this = this;\n        if (sendCallback) {\n          sendCallback(data, this);\n        }\n        if (this.addEventListener) {\n          this.addEventListener('readystatechange', function () {\n            if (!_isInterceptorEnabled) {\n              return;\n            }\n            if (_this.readyState === _this.HEADERS_RECEIVED) {\n              var contentTypeString = _this.getResponseHeader('Content-Type');\n              var contentLengthString = _this.getResponseHeader('Content-Length');\n              var _responseContentType, _responseSize;\n              if (contentTypeString) {\n                _responseContentType = contentTypeString.split(';')[0];\n              }\n              if (contentLengthString) {\n                _responseSize = parseInt(contentLengthString, 10);\n              }\n              if (headerReceivedCallback) {\n                headerReceivedCallback(_responseContentType, _responseSize, _this.getAllResponseHeaders(), _this);\n              }\n            }\n            if (_this.readyState === _this.DONE) {\n              if (responseCallback) {\n                responseCallback(_this.status, _this.timeout, _this.response, _this.responseURL, _this.responseType, _this);\n              }\n            }\n          }, false);\n        }\n        originalXHRSend.apply(this, arguments);\n      };\n      _isInterceptorEnabled = true;\n    },\n    disableInterception: function disableInterception() {\n      if (!_isInterceptorEnabled) {\n        return;\n      }\n      _isInterceptorEnabled = false;\n      XMLHttpRequest.prototype.send = originalXHRSend;\n      XMLHttpRequest.prototype.open = originalXHROpen;\n      XMLHttpRequest.prototype.setRequestHeader = originalXHRSetRequestHeader;\n      responseCallback = null;\n      openCallback = null;\n      sendCallback = null;\n      headerReceivedCallback = null;\n      requestHeaderCallback = null;\n    }\n  };\n  var _default = exports.default = XHRInterceptor;\n});","lineCount":104,"map":[[2,2,11,0],[2,14,11,12],[4,2,11,13,"Object"],[4,8,11,13],[4,9,11,13,"defineProperty"],[4,23,11,13],[4,24,11,13,"exports"],[4,31,11,13],[5,4,11,13,"value"],[5,9,11,13],[6,2,11,13],[7,2,11,13,"exports"],[7,9,11,13],[7,10,11,13,"default"],[7,17,11,13],[8,2,15,0],[8,6,15,6,"XMLHttpRequest"],[8,20,15,37],[8,23,16,2,"require"],[8,30,16,9],[8,31,16,9,"_dependencyMap"],[8,45,16,9],[8,93,16,53],[8,94,16,54],[8,95,16,55,"default"],[8,102,16,62],[9,2,18,0],[9,6,18,6,"originalXHROpen"],[9,21,18,21],[9,24,18,24,"XMLHttpRequest"],[9,38,18,38],[9,39,18,39,"prototype"],[9,48,18,48],[9,49,18,49,"open"],[9,53,18,53],[10,2,20,0],[10,6,20,6,"originalXHRSend"],[10,21,20,21],[10,24,20,24,"XMLHttpRequest"],[10,38,20,38],[10,39,20,39,"prototype"],[10,48,20,48],[10,49,20,49,"send"],[10,53,20,53],[11,2,22,0],[11,6,22,6,"originalXHRSetRequestHeader"],[11,33,22,33],[11,36,22,36,"XMLHttpRequest"],[11,50,22,50],[11,51,22,51,"prototype"],[11,60,22,60],[11,61,22,61,"setRequestHeader"],[11,77,22,77],[12,2,57,0],[12,6,57,4,"openCallback"],[12,18,57,51],[13,2,58,0],[13,6,58,4,"sendCallback"],[13,18,58,51],[14,2,59,0],[14,6,59,4,"requestHeaderCallback"],[14,27,59,69],[15,2,60,0],[15,6,60,4,"headerReceivedCallback"],[15,28,60,71],[16,2,61,0],[16,6,61,4,"responseCallback"],[16,22,61,59],[17,2,63,0],[17,6,63,4,"isInterceptorEnabled"],[17,27,63,24],[17,30,63,27],[17,35,63,32],[18,2,72,0],[18,6,72,6,"XHRInterceptor"],[18,20,72,20],[18,23,72,23],[19,4,76,2,"setOpenCallback"],[19,19,76,17],[19,30,76,2,"setOpenCallback"],[19,45,76,17,"setOpenCallback"],[19,46,76,18,"callback"],[19,54,76,54],[19,56,76,56],[20,6,77,4,"openCallback"],[20,18,77,16],[20,21,77,19,"callback"],[20,29,77,27],[21,4,78,2],[21,5,78,3],[22,4,83,2,"setSendCallback"],[22,19,83,17],[22,30,83,2,"setSendCallback"],[22,45,83,17,"setSendCallback"],[22,46,83,18,"callback"],[22,54,83,54],[22,56,83,56],[23,6,84,4,"sendCallback"],[23,18,84,16],[23,21,84,19,"callback"],[23,29,84,27],[24,4,85,2],[24,5,85,3],[25,4,90,2,"setHeaderReceivedCallback"],[25,29,90,27],[25,40,90,2,"setHeaderReceivedCallback"],[25,65,90,27,"setHeaderReceivedCallback"],[25,66,90,28,"callback"],[25,74,90,74],[25,76,90,76],[26,6,91,4,"headerReceivedCallback"],[26,28,91,26],[26,31,91,29,"callback"],[26,39,91,37],[27,4,92,2],[27,5,92,3],[28,4,97,2,"setResponseCallback"],[28,23,97,21],[28,34,97,2,"setResponseCallback"],[28,53,97,21,"setResponseCallback"],[28,54,97,22,"callback"],[28,62,97,62],[28,64,97,64],[29,6,98,4,"responseCallback"],[29,22,98,20],[29,25,98,23,"callback"],[29,33,98,31],[30,4,99,2],[30,5,99,3],[31,4,104,2,"setRequestHeaderCallback"],[31,28,104,26],[31,39,104,2,"setRequestHeaderCallback"],[31,63,104,26,"setRequestHeaderCallback"],[31,64,104,27,"callback"],[31,72,104,72],[31,74,104,74],[32,6,105,4,"requestHeaderCallback"],[32,27,105,25],[32,30,105,28,"callback"],[32,38,105,36],[33,4,106,2],[33,5,106,3],[34,4,108,2,"isInterceptorEnabled"],[34,24,108,22],[34,35,108,2,"isInterceptorEnabled"],[34,55,108,22,"isInterceptorEnabled"],[34,56,108,22],[34,58,108,34],[35,6,109,4],[35,13,109,11,"isInterceptorEnabled"],[35,34,109,31],[36,4,110,2],[36,5,110,3],[37,4,112,2,"enableInterception"],[37,22,112,20],[37,33,112,2,"enableInterception"],[37,51,112,20,"enableInterception"],[37,52,112,20],[37,54,112,23],[38,6,113,4],[38,10,113,8,"isInterceptorEnabled"],[38,31,113,28],[38,33,113,30],[39,8,114,6],[40,6,115,4],[41,6,120,4,"XMLHttpRequest"],[41,20,120,18],[41,21,120,19,"prototype"],[41,30,120,28],[41,31,120,29,"open"],[41,35,120,33],[41,38,120,36],[41,48,120,46,"method"],[41,54,120,60],[41,56,120,62,"url"],[41,59,120,73],[41,61,120,75],[42,8,121,6],[42,12,121,10,"openCallback"],[42,24,121,22],[42,26,121,24],[43,10,122,8,"openCallback"],[43,22,122,20],[43,23,122,21,"method"],[43,29,122,27],[43,31,122,29,"url"],[43,34,122,32],[43,36,122,34],[43,40,122,38],[43,41,122,39],[44,8,123,6],[45,8,124,6,"originalXHROpen"],[45,23,124,21],[45,24,124,22,"apply"],[45,29,124,27],[45,30,124,28],[45,34,124,32],[45,36,124,34,"arguments"],[45,45,124,43],[45,46,124,44],[46,6,125,4],[46,7,125,5],[47,6,131,4,"XMLHttpRequest"],[47,20,131,18],[47,21,131,19,"prototype"],[47,30,131,28],[47,31,131,29,"setRequestHeader"],[47,47,131,45],[47,50,131,48],[47,60,132,6,"header"],[47,66,132,20],[47,68,133,6,"value"],[47,73,133,19],[47,75,134,6],[48,8,135,6],[48,12,135,10,"requestHeaderCallback"],[48,33,135,31],[48,35,135,33],[49,10,136,8,"requestHeaderCallback"],[49,31,136,29],[49,32,136,30,"header"],[49,38,136,36],[49,40,136,38,"value"],[49,45,136,43],[49,47,136,45],[49,51,136,49],[49,52,136,50],[50,8,137,6],[51,8,138,6,"originalXHRSetRequestHeader"],[51,35,138,33],[51,36,138,34,"apply"],[51,41,138,39],[51,42,138,40],[51,46,138,44],[51,48,138,46,"arguments"],[51,57,138,55],[51,58,138,56],[52,6,139,4],[52,7,139,5],[53,6,145,4,"XMLHttpRequest"],[53,20,145,18],[53,21,145,19,"prototype"],[53,30,145,28],[53,31,145,29,"send"],[53,35,145,33],[53,38,145,36],[53,48,145,46,"data"],[53,52,145,58],[53,54,145,60],[54,8,145,60],[54,12,145,60,"_this"],[54,17,145,60],[55,8,146,6],[55,12,146,10,"sendCallback"],[55,24,146,22],[55,26,146,24],[56,10,147,8,"sendCallback"],[56,22,147,20],[56,23,147,21,"data"],[56,27,147,25],[56,29,147,27],[56,33,147,31],[56,34,147,32],[57,8,148,6],[58,8,149,6],[58,12,149,10],[58,16,149,14],[58,17,149,15,"addEventListener"],[58,33,149,31],[58,35,149,33],[59,10,150,8],[59,14,150,12],[59,15,150,13,"addEventListener"],[59,31,150,29],[59,32,151,10],[59,50,151,28],[59,52,152,10],[59,64,152,16],[60,12,153,12],[60,16,153,16],[60,17,153,17,"isInterceptorEnabled"],[60,38,153,37],[60,40,153,39],[61,14,154,14],[62,12,155,12],[63,12,156,12],[63,16,156,16,"_this"],[63,21,156,20],[63,22,156,21,"readyState"],[63,32,156,31],[63,37,156,36,"_this"],[63,42,156,40],[63,43,156,41,"HEADERS_RECEIVED"],[63,59,156,57],[63,61,156,59],[64,14,157,14],[64,18,157,20,"contentTypeString"],[64,35,157,37],[64,38,157,40,"_this"],[64,43,157,44],[64,44,157,45,"getResponseHeader"],[64,61,157,62],[64,62,157,63],[64,76,157,77],[64,77,157,78],[65,14,158,14],[65,18,158,20,"contentLengthString"],[65,37,158,39],[65,40,159,16,"_this"],[65,45,159,20],[65,46,159,21,"getResponseHeader"],[65,63,159,38],[65,64,159,39],[65,80,159,55],[65,81,159,56],[66,14,160,14],[66,18,160,18,"responseContentType"],[66,38,160,37],[66,40,160,39,"responseSize"],[66,53,160,51],[67,14,161,14],[67,18,161,18,"contentTypeString"],[67,35,161,35],[67,37,161,37],[68,16,162,16,"responseContentType"],[68,36,162,35],[68,39,162,38,"contentTypeString"],[68,56,162,55],[68,57,162,56,"split"],[68,62,162,61],[68,63,162,62],[68,66,162,65],[68,67,162,66],[68,68,162,67],[68,69,162,68],[68,70,162,69],[69,14,163,14],[70,14,164,14],[70,18,164,18,"contentLengthString"],[70,37,164,37],[70,39,164,39],[71,16,165,16,"responseSize"],[71,29,165,28],[71,32,165,31,"parseInt"],[71,40,165,39],[71,41,165,40,"contentLengthString"],[71,60,165,59],[71,62,165,61],[71,64,165,63],[71,65,165,64],[72,14,166,14],[73,14,167,14],[73,18,167,18,"headerReceivedCallback"],[73,40,167,40],[73,42,167,42],[74,16,168,16,"headerReceivedCallback"],[74,38,168,38],[74,39,169,18,"responseContentType"],[74,59,169,37],[74,61,170,18,"responseSize"],[74,74,170,30],[74,76,171,18,"_this"],[74,81,171,22],[74,82,171,23,"getAllResponseHeaders"],[74,103,171,44],[74,104,171,45],[74,105,171,46],[74,107,172,18,"_this"],[74,112,173,16],[74,113,173,17],[75,14,174,14],[76,12,175,12],[77,12,176,12],[77,16,176,16,"_this"],[77,21,176,20],[77,22,176,21,"readyState"],[77,32,176,31],[77,37,176,36,"_this"],[77,42,176,40],[77,43,176,41,"DONE"],[77,47,176,45],[77,49,176,47],[78,14,177,14],[78,18,177,18,"responseCallback"],[78,34,177,34],[78,36,177,36],[79,16,178,16,"responseCallback"],[79,32,178,32],[79,33,179,18,"_this"],[79,38,179,22],[79,39,179,23,"status"],[79,45,179,29],[79,47,180,18,"_this"],[79,52,180,22],[79,53,180,23,"timeout"],[79,60,180,30],[79,62,181,18,"_this"],[79,67,181,22],[79,68,181,23,"response"],[79,76,181,31],[79,78,182,18,"_this"],[79,83,182,22],[79,84,182,23,"responseURL"],[79,95,182,34],[79,97,183,18,"_this"],[79,102,183,22],[79,103,183,23,"responseType"],[79,115,183,35],[79,117,184,18,"_this"],[79,122,185,16],[79,123,185,17],[80,14,186,14],[81,12,187,12],[82,10,188,10],[82,11,188,11],[82,13,189,10],[82,18,190,8],[82,19,190,9],[83,8,191,6],[84,8,192,6,"originalXHRSend"],[84,23,192,21],[84,24,192,22,"apply"],[84,29,192,27],[84,30,192,28],[84,34,192,32],[84,36,192,34,"arguments"],[84,45,192,43],[84,46,192,44],[85,6,193,4],[85,7,193,5],[86,6,194,4,"isInterceptorEnabled"],[86,27,194,24],[86,30,194,27],[86,34,194,31],[87,4,195,2],[87,5,195,3],[88,4,198,2,"disableInterception"],[88,23,198,21],[88,34,198,2,"disableInterception"],[88,53,198,21,"disableInterception"],[88,54,198,21],[88,56,198,24],[89,6,199,4],[89,10,199,8],[89,11,199,9,"isInterceptorEnabled"],[89,32,199,29],[89,34,199,31],[90,8,200,6],[91,6,201,4],[92,6,202,4,"isInterceptorEnabled"],[92,27,202,24],[92,30,202,27],[92,35,202,32],[93,6,204,4,"XMLHttpRequest"],[93,20,204,18],[93,21,204,19,"prototype"],[93,30,204,28],[93,31,204,29,"send"],[93,35,204,33],[93,38,204,36,"originalXHRSend"],[93,53,204,51],[94,6,206,4,"XMLHttpRequest"],[94,20,206,18],[94,21,206,19,"prototype"],[94,30,206,28],[94,31,206,29,"open"],[94,35,206,33],[94,38,206,36,"originalXHROpen"],[94,53,206,51],[95,6,208,4,"XMLHttpRequest"],[95,20,208,18],[95,21,208,19,"prototype"],[95,30,208,28],[95,31,208,29,"setRequestHeader"],[95,47,208,45],[95,50,208,48,"originalXHRSetRequestHeader"],[95,77,208,75],[96,6,209,4,"responseCallback"],[96,22,209,20],[96,25,209,23],[96,29,209,27],[97,6,210,4,"openCallback"],[97,18,210,16],[97,21,210,19],[97,25,210,23],[98,6,211,4,"sendCallback"],[98,18,211,16],[98,21,211,19],[98,25,211,23],[99,6,212,4,"headerReceivedCallback"],[99,28,212,26],[99,31,212,29],[99,35,212,33],[100,6,213,4,"requestHeaderCallback"],[100,27,213,25],[100,30,213,28],[100,34,213,32],[101,4,214,2],[102,2,215,0],[102,3,215,1],[103,2,215,2],[103,6,215,2,"_default"],[103,14,215,2],[103,17,215,2,"exports"],[103,24,215,2],[103,25,215,2,"default"],[103,32,215,2],[103,35,217,15,"XHRInterceptor"],[103,49,217,29],[104,0,217,29],[104,3]],"functionMap":{"names":["<global>","setOpenCallback","setSendCallback","setHeaderReceivedCallback","setResponseCallback","setRequestHeaderCallback","isInterceptorEnabled","enableInterception","XMLHttpRequest.prototype.open","XMLHttpRequest.prototype.setRequestHeader","XMLHttpRequest.prototype.send","addEventListener$argument_1","disableInterception"],"mappings":"AAA;EC2E;GDE;EEK;GFE;EGK;GHE;EIK;GJE;EKK;GLE;EME;GNE;EOE;oCCQ;KDK;gDEM;KFQ;oCGM;UCO;WDoC;KHK;GPE;EYG;GZgB"}},"type":"js/module"}]}