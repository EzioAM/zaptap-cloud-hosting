{"dependencies":[{"name":"./Updates","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":37,"index":37}}],"key":"dHmtn1izBCeSkZ/2BgK9eSyi8a8=","exportNames":["*"]}},{"name":"./UseUpdates.types","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":38},"end":{"line":2,"column":53,"index":91}}],"key":"c/0dTIDFMt3vtNcWYCgpJC9RQHM=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.updatesStateFromContext = exports.updateFromRollback = exports.updateFromManifest = exports.currentlyRunning = void 0;\n  var Updates = _interopRequireWildcard(require(_dependencyMap[0], \"./Updates\"));\n  var _UseUpdates = require(_dependencyMap[1], \"./UseUpdates.types\");\n  var _Updates$updateId, _Updates$channel, _Updates$createdAt, _Updates$launchDurati, _Updates$manifest, _Updates$runtimeVersi;\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) \"default\" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }\n  // The currently running info, constructed from Updates constants\n  var currentlyRunning = exports.currentlyRunning = {\n    updateId: (_Updates$updateId = Updates.updateId) != null ? _Updates$updateId : undefined,\n    channel: (_Updates$channel = Updates.channel) != null ? _Updates$channel : undefined,\n    createdAt: (_Updates$createdAt = Updates.createdAt) != null ? _Updates$createdAt : undefined,\n    launchDuration: (_Updates$launchDurati = Updates.launchDuration) != null ? _Updates$launchDurati : undefined,\n    isEmbeddedLaunch: Updates.isEmbeddedLaunch,\n    isEmergencyLaunch: Updates.isEmergencyLaunch,\n    emergencyLaunchReason: Updates.emergencyLaunchReason,\n    manifest: (_Updates$manifest = Updates.manifest) != null ? _Updates$manifest : undefined,\n    runtimeVersion: (_Updates$runtimeVersi = Updates.runtimeVersion) != null ? _Updates$runtimeVersi : undefined\n  };\n  // Constructs an UpdateInfo from a manifest\n  var updateFromManifest = exports.updateFromManifest = function updateFromManifest(manifest) {\n    var _manifest$id;\n    return {\n      type: _UseUpdates.UpdateInfoType.NEW,\n      updateId: (_manifest$id = manifest.id) != null ? _manifest$id : '',\n      createdAt: manifest && 'createdAt' in manifest && manifest.createdAt ? new Date(manifest.createdAt) :\n      // We should never reach this if the manifest is valid and has a commit time,\n      // but leave this in so that createdAt is always defined\n      new Date(0),\n      manifest: manifest\n    };\n  };\n  var updateFromRollback = exports.updateFromRollback = function updateFromRollback(rollback) {\n    return {\n      type: _UseUpdates.UpdateInfoType.ROLLBACK,\n      createdAt: new Date(rollback.commitTime),\n      manifest: undefined,\n      updateId: undefined\n    };\n  };\n  // Transform the useUpdates() state based on native state machine context\n  var updatesStateFromContext = exports.updatesStateFromContext = function updatesStateFromContext(context) {\n    var availableUpdate = context != null && context.latestManifest ? updateFromManifest(context == null ? void 0 : context.latestManifest) : context.rollback ? updateFromRollback(context.rollback) : undefined;\n    var downloadedUpdate = context != null && context.downloadedManifest ? updateFromManifest(context == null ? void 0 : context.downloadedManifest) : context.rollback ? updateFromRollback(context.rollback) : undefined;\n    return {\n      isStartupProcedureRunning: context.isStartupProcedureRunning,\n      isUpdateAvailable: context.isUpdateAvailable,\n      isUpdatePending: context.isUpdatePending,\n      isChecking: context.isChecking,\n      isDownloading: context.isDownloading,\n      isRestarting: context.isRestarting,\n      restartCount: context.restartCount,\n      availableUpdate: availableUpdate,\n      downloadedUpdate: downloadedUpdate,\n      checkError: context.checkError,\n      downloadError: context.downloadError,\n      lastCheckForUpdateTimeSinceRestart: context.lastCheckForUpdateTime\n    };\n  };\n});","lineCount":62,"map":[[6,2,1,0],[6,6,1,0,"Updates"],[6,13,1,0],[6,16,1,0,"_interopRequireWildcard"],[6,39,1,0],[6,40,1,0,"require"],[6,47,1,0],[6,48,1,0,"_dependencyMap"],[6,62,1,0],[7,2,2,0],[7,6,2,0,"_UseUpdates"],[7,17,2,0],[7,20,2,0,"require"],[7,27,2,0],[7,28,2,0,"_dependencyMap"],[7,42,2,0],[8,2,2,53],[8,6,2,53,"_Updates$updateId"],[8,23,2,53],[8,25,2,53,"_Updates$channel"],[8,41,2,53],[8,43,2,53,"_Updates$createdAt"],[8,61,2,53],[8,63,2,53,"_Updates$launchDurati"],[8,84,2,53],[8,86,2,53,"_Updates$manifest"],[8,103,2,53],[8,105,2,53,"_Updates$runtimeVersi"],[8,126,2,53],[9,2,2,53],[9,11,2,53,"_interopRequireWildcard"],[9,35,2,53,"e"],[9,36,2,53],[9,38,2,53,"t"],[9,39,2,53],[9,68,2,53,"WeakMap"],[9,75,2,53],[9,81,2,53,"r"],[9,82,2,53],[9,89,2,53,"WeakMap"],[9,96,2,53],[9,100,2,53,"n"],[9,101,2,53],[9,108,2,53,"WeakMap"],[9,115,2,53],[9,127,2,53,"_interopRequireWildcard"],[9,150,2,53],[9,162,2,53,"_interopRequireWildcard"],[9,186,2,53,"e"],[9,187,2,53],[9,189,2,53,"t"],[9,190,2,53],[9,199,2,53,"t"],[9,200,2,53],[9,204,2,53,"e"],[9,205,2,53],[9,209,2,53,"e"],[9,210,2,53],[9,211,2,53,"__esModule"],[9,221,2,53],[9,230,2,53,"e"],[9,231,2,53],[9,237,2,53,"o"],[9,238,2,53],[9,240,2,53,"i"],[9,241,2,53],[9,243,2,53,"f"],[9,244,2,53],[9,249,2,53,"__proto__"],[9,258,2,53],[9,266,2,53,"default"],[9,273,2,53],[9,275,2,53,"e"],[9,276,2,53],[9,293,2,53,"e"],[9,294,2,53],[9,317,2,53,"e"],[9,318,2,53],[9,343,2,53,"e"],[9,344,2,53],[9,353,2,53,"f"],[9,354,2,53],[9,360,2,53,"o"],[9,361,2,53],[9,364,2,53,"t"],[9,365,2,53],[9,368,2,53,"n"],[9,369,2,53],[9,372,2,53,"r"],[9,373,2,53],[9,381,2,53,"o"],[9,382,2,53],[9,383,2,53,"has"],[9,386,2,53],[9,387,2,53,"e"],[9,388,2,53],[9,398,2,53,"o"],[9,399,2,53],[9,400,2,53,"get"],[9,403,2,53],[9,404,2,53,"e"],[9,405,2,53],[9,408,2,53,"o"],[9,409,2,53],[9,410,2,53,"set"],[9,413,2,53],[9,414,2,53,"e"],[9,415,2,53],[9,417,2,53,"f"],[9,418,2,53],[9,432,2,53,"_t"],[9,434,2,53],[9,438,2,53,"e"],[9,439,2,53],[9,455,2,53,"_t"],[9,457,2,53],[9,464,2,53,"hasOwnProperty"],[9,478,2,53],[9,479,2,53,"call"],[9,483,2,53],[9,484,2,53,"e"],[9,485,2,53],[9,487,2,53,"_t"],[9,489,2,53],[9,496,2,53,"i"],[9,497,2,53],[9,501,2,53,"o"],[9,502,2,53],[9,505,2,53,"Object"],[9,511,2,53],[9,512,2,53,"defineProperty"],[9,526,2,53],[9,531,2,53,"Object"],[9,537,2,53],[9,538,2,53,"getOwnPropertyDescriptor"],[9,562,2,53],[9,563,2,53,"e"],[9,564,2,53],[9,566,2,53,"_t"],[9,568,2,53],[9,575,2,53,"i"],[9,576,2,53],[9,577,2,53,"get"],[9,580,2,53],[9,584,2,53,"i"],[9,585,2,53],[9,586,2,53,"set"],[9,589,2,53],[9,593,2,53,"o"],[9,594,2,53],[9,595,2,53,"f"],[9,596,2,53],[9,598,2,53,"_t"],[9,600,2,53],[9,602,2,53,"i"],[9,603,2,53],[9,607,2,53,"f"],[9,608,2,53],[9,609,2,53,"_t"],[9,611,2,53],[9,615,2,53,"e"],[9,616,2,53],[9,617,2,53,"_t"],[9,619,2,53],[9,630,2,53,"f"],[9,631,2,53],[9,636,2,53,"e"],[9,637,2,53],[9,639,2,53,"t"],[9,640,2,53],[10,2,3,0],[11,2,4,7],[11,6,4,13,"currentlyRunning"],[11,22,4,29],[11,25,4,29,"exports"],[11,32,4,29],[11,33,4,29,"currentlyRunning"],[11,49,4,29],[11,52,4,32],[12,4,5,4,"updateId"],[12,12,5,12],[12,15,5,12,"_Updates$updateId"],[12,32,5,12],[12,35,5,14,"Updates"],[12,42,5,21],[12,43,5,22,"updateId"],[12,51,5,30],[12,63,5,30,"_Updates$updateId"],[12,80,5,30],[12,83,5,34,"undefined"],[12,92,5,43],[13,4,6,4,"channel"],[13,11,6,11],[13,14,6,11,"_Updates$channel"],[13,30,6,11],[13,33,6,13,"Updates"],[13,40,6,20],[13,41,6,21,"channel"],[13,48,6,28],[13,60,6,28,"_Updates$channel"],[13,76,6,28],[13,79,6,32,"undefined"],[13,88,6,41],[14,4,7,4,"createdAt"],[14,13,7,13],[14,16,7,13,"_Updates$createdAt"],[14,34,7,13],[14,37,7,15,"Updates"],[14,44,7,22],[14,45,7,23,"createdAt"],[14,54,7,32],[14,66,7,32,"_Updates$createdAt"],[14,84,7,32],[14,87,7,36,"undefined"],[14,96,7,45],[15,4,8,4,"launchDuration"],[15,18,8,18],[15,21,8,18,"_Updates$launchDurati"],[15,42,8,18],[15,45,8,20,"Updates"],[15,52,8,27],[15,53,8,28,"launchDuration"],[15,67,8,42],[15,79,8,42,"_Updates$launchDurati"],[15,100,8,42],[15,103,8,46,"undefined"],[15,112,8,55],[16,4,9,4,"isEmbeddedLaunch"],[16,20,9,20],[16,22,9,22,"Updates"],[16,29,9,29],[16,30,9,30,"isEmbeddedLaunch"],[16,46,9,46],[17,4,10,4,"isEmergencyLaunch"],[17,21,10,21],[17,23,10,23,"Updates"],[17,30,10,30],[17,31,10,31,"isEmergencyLaunch"],[17,48,10,48],[18,4,11,4,"emergencyLaunchReason"],[18,25,11,25],[18,27,11,27,"Updates"],[18,34,11,34],[18,35,11,35,"emergencyLaunchReason"],[18,56,11,56],[19,4,12,4,"manifest"],[19,12,12,12],[19,15,12,12,"_Updates$manifest"],[19,32,12,12],[19,35,12,14,"Updates"],[19,42,12,21],[19,43,12,22,"manifest"],[19,51,12,30],[19,63,12,30,"_Updates$manifest"],[19,80,12,30],[19,83,12,34,"undefined"],[19,92,12,43],[20,4,13,4,"runtimeVersion"],[20,18,13,18],[20,21,13,18,"_Updates$runtimeVersi"],[20,42,13,18],[20,45,13,20,"Updates"],[20,52,13,27],[20,53,13,28,"runtimeVersion"],[20,67,13,42],[20,79,13,42,"_Updates$runtimeVersi"],[20,100,13,42],[20,103,13,46,"undefined"],[21,2,14,0],[21,3,14,1],[22,2,15,0],[23,2,16,7],[23,6,16,13,"updateFromManifest"],[23,24,16,31],[23,27,16,31,"exports"],[23,34,16,31],[23,35,16,31,"updateFromManifest"],[23,53,16,31],[23,56,16,34],[23,65,16,13,"updateFromManifest"],[23,83,16,31,"updateFromManifest"],[23,84,16,35,"manifest"],[23,92,16,43],[23,94,16,48],[24,4,16,48],[24,8,16,48,"_manifest$id"],[24,20,16,48],[25,4,17,4],[25,11,17,11],[26,6,18,8,"type"],[26,10,18,12],[26,12,18,14,"UpdateInfoType"],[26,38,18,28],[26,39,18,29,"NEW"],[26,42,18,32],[27,6,19,8,"updateId"],[27,14,19,16],[27,17,19,16,"_manifest$id"],[27,29,19,16],[27,32,19,18,"manifest"],[27,40,19,26],[27,41,19,27,"id"],[27,43,19,29],[27,55,19,29,"_manifest$id"],[27,67,19,29],[27,70,19,33],[27,72,19,35],[28,6,20,8,"createdAt"],[28,15,20,17],[28,17,20,19,"manifest"],[28,25,20,27],[28,29,20,31],[28,40,20,42],[28,44,20,46,"manifest"],[28,52,20,54],[28,56,20,58,"manifest"],[28,64,20,66],[28,65,20,67,"createdAt"],[28,74,20,76],[28,77,21,14],[28,81,21,18,"Date"],[28,85,21,22],[28,86,21,23,"manifest"],[28,94,21,31],[28,95,21,32,"createdAt"],[28,104,21,41],[28,105,21,42],[29,6,22,14],[30,6,23,16],[31,6,24,16],[31,10,24,20,"Date"],[31,14,24,24],[31,15,24,25],[31,16,24,26],[31,17,24,27],[32,6,25,8,"manifest"],[32,14,25,16],[32,16,25,8,"manifest"],[33,4,26,4],[33,5,26,5],[34,2,27,0],[34,3,27,1],[35,2,28,7],[35,6,28,13,"updateFromRollback"],[35,24,28,31],[35,27,28,31,"exports"],[35,34,28,31],[35,35,28,31,"updateFromRollback"],[35,53,28,31],[35,56,28,34],[35,65,28,13,"updateFromRollback"],[35,83,28,31,"updateFromRollback"],[35,84,28,35,"rollback"],[35,92,28,43],[36,4,28,43],[36,11,28,49],[37,6,29,4,"type"],[37,10,29,8],[37,12,29,10,"UpdateInfoType"],[37,38,29,24],[37,39,29,25,"ROLLBACK"],[37,47,29,33],[38,6,30,4,"createdAt"],[38,15,30,13],[38,17,30,15],[38,21,30,19,"Date"],[38,25,30,23],[38,26,30,24,"rollback"],[38,34,30,32],[38,35,30,33,"commitTime"],[38,45,30,43],[38,46,30,44],[39,6,31,4,"manifest"],[39,14,31,12],[39,16,31,14,"undefined"],[39,25,31,23],[40,6,32,4,"updateId"],[40,14,32,12],[40,16,32,14,"undefined"],[41,4,33,0],[41,5,33,1],[42,2,33,1],[42,3,33,2],[43,2,34,0],[44,2,35,7],[44,6,35,13,"updatesStateFromContext"],[44,29,35,36],[44,32,35,36,"exports"],[44,39,35,36],[44,40,35,36,"updatesStateFromContext"],[44,63,35,36],[44,66,35,39],[44,75,35,13,"updatesStateFromContext"],[44,98,35,36,"updatesStateFromContext"],[44,99,35,40,"context"],[44,106,35,47],[44,108,35,52],[45,4,36,4],[45,8,36,10,"availableUpdate"],[45,23,36,25],[45,26,36,28,"context"],[45,33,36,35],[45,45,36,28,"context"],[45,52,36,35],[45,53,36,37,"latestManifest"],[45,67,36,51],[45,70,37,10,"updateFromManifest"],[45,88,37,28],[45,89,37,29,"context"],[45,96,37,36],[45,116,37,29,"context"],[45,123,37,36],[45,124,37,38,"latestManifest"],[45,138,37,52],[45,139,37,53],[45,142,38,10,"context"],[45,149,38,17],[45,150,38,18,"rollback"],[45,158,38,26],[45,161,39,14,"updateFromRollback"],[45,179,39,32],[45,180,39,33,"context"],[45,187,39,40],[45,188,39,41,"rollback"],[45,196,39,49],[45,197,39,50],[45,200,40,14,"undefined"],[45,209,40,23],[46,4,41,4],[46,8,41,10,"downloadedUpdate"],[46,24,41,26],[46,27,41,29,"context"],[46,34,41,36],[46,46,41,29,"context"],[46,53,41,36],[46,54,41,38,"downloadedManifest"],[46,72,41,56],[46,75,42,10,"updateFromManifest"],[46,93,42,28],[46,94,42,29,"context"],[46,101,42,36],[46,121,42,29,"context"],[46,128,42,36],[46,129,42,38,"downloadedManifest"],[46,147,42,56],[46,148,42,57],[46,151,43,10,"context"],[46,158,43,17],[46,159,43,18,"rollback"],[46,167,43,26],[46,170,44,14,"updateFromRollback"],[46,188,44,32],[46,189,44,33,"context"],[46,196,44,40],[46,197,44,41,"rollback"],[46,205,44,49],[46,206,44,50],[46,209,45,14,"undefined"],[46,218,45,23],[47,4,46,4],[47,11,46,11],[48,6,47,8,"isStartupProcedureRunning"],[48,31,47,33],[48,33,47,35,"context"],[48,40,47,42],[48,41,47,43,"isStartupProcedureRunning"],[48,66,47,68],[49,6,48,8,"isUpdateAvailable"],[49,23,48,25],[49,25,48,27,"context"],[49,32,48,34],[49,33,48,35,"isUpdateAvailable"],[49,50,48,52],[50,6,49,8,"isUpdatePending"],[50,21,49,23],[50,23,49,25,"context"],[50,30,49,32],[50,31,49,33,"isUpdatePending"],[50,46,49,48],[51,6,50,8,"isChecking"],[51,16,50,18],[51,18,50,20,"context"],[51,25,50,27],[51,26,50,28,"isChecking"],[51,36,50,38],[52,6,51,8,"isDownloading"],[52,19,51,21],[52,21,51,23,"context"],[52,28,51,30],[52,29,51,31,"isDownloading"],[52,42,51,44],[53,6,52,8,"isRestarting"],[53,18,52,20],[53,20,52,22,"context"],[53,27,52,29],[53,28,52,30,"isRestarting"],[53,40,52,42],[54,6,53,8,"restartCount"],[54,18,53,20],[54,20,53,22,"context"],[54,27,53,29],[54,28,53,30,"restartCount"],[54,40,53,42],[55,6,54,8,"availableUpdate"],[55,21,54,23],[55,23,54,8,"availableUpdate"],[55,38,54,23],[56,6,55,8,"downloadedUpdate"],[56,22,55,24],[56,24,55,8,"downloadedUpdate"],[56,40,55,24],[57,6,56,8,"checkError"],[57,16,56,18],[57,18,56,20,"context"],[57,25,56,27],[57,26,56,28,"checkError"],[57,36,56,38],[58,6,57,8,"downloadError"],[58,19,57,21],[58,21,57,23,"context"],[58,28,57,30],[58,29,57,31,"downloadError"],[58,42,57,44],[59,6,58,8,"lastCheckForUpdateTimeSinceRestart"],[59,40,58,42],[59,42,58,44,"context"],[59,49,58,51],[59,50,58,52,"lastCheckForUpdateTime"],[60,4,59,4],[60,5,59,5],[61,2,60,0],[61,3,60,1],[62,0,60,2],[62,3]],"functionMap":{"names":["<global>","updateFromManifest","updateFromRollback","updatesStateFromContext"],"mappings":"AAA;kCCe;CDW;kCEC;EFK;uCGE;CHyB"}},"type":"js/module"}]}