{"dependencies":[{"name":"./constants","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":17,"index":93},"end":{"line":6,"column":39,"index":115}}],"key":"3z43bJyk/UB4EKjDCOXTFak09do=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  exports.__esModule = true;\n  exports.default = createMigrate;\n  var _constants = require(_dependencyMap[0], \"./constants\");\n  function createMigrate(migrations, config) {\n    var _ref = config || {},\n      debug = _ref.debug;\n    return function (state, currentVersion) {\n      if (!state) {\n        if (process.env.NODE_ENV !== 'production' && debug) console.log('redux-persist: no inbound state, skipping migration');\n        return Promise.resolve(undefined);\n      }\n      var inboundVersion = state._persist && state._persist.version !== undefined ? state._persist.version : _constants.DEFAULT_VERSION;\n      if (inboundVersion === currentVersion) {\n        if (process.env.NODE_ENV !== 'production' && debug) console.log('redux-persist: versions match, noop migration');\n        return Promise.resolve(state);\n      }\n      if (inboundVersion > currentVersion) {\n        if (process.env.NODE_ENV !== 'production') console.error('redux-persist: downgrading version is not supported');\n        return Promise.resolve(state);\n      }\n      var migrationKeys = Object.keys(migrations).map(function (ver) {\n        return parseInt(ver);\n      }).filter(function (key) {\n        return currentVersion >= key && key > inboundVersion;\n      }).sort(function (a, b) {\n        return a - b;\n      });\n      if (process.env.NODE_ENV !== 'production' && debug) console.log('redux-persist: migrationKeys', migrationKeys);\n      try {\n        var migratedState = migrationKeys.reduce(function (state, versionKey) {\n          if (process.env.NODE_ENV !== 'production' && debug) console.log('redux-persist: running migration for versionKey', versionKey);\n          return migrations[versionKey](state);\n        }, state);\n        return Promise.resolve(migratedState);\n      } catch (err) {\n        return Promise.reject(err);\n      }\n    };\n  }\n});","lineCount":43,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"exports"],[4,9,3,7],[4,10,3,8,"__esModule"],[4,20,3,18],[4,23,3,21],[4,27,3,25],[5,2,4,0,"exports"],[5,9,4,7],[5,10,4,8,"default"],[5,17,4,15],[5,20,4,18,"createMigrate"],[5,33,4,31],[6,2,6,0],[6,6,6,4,"_constants"],[6,16,6,14],[6,19,6,17,"require"],[6,26,6,24],[6,27,6,24,"_dependencyMap"],[6,41,6,24],[6,59,6,38],[6,60,6,39],[7,2,8,0],[7,11,8,9,"createMigrate"],[7,24,8,22,"createMigrate"],[7,25,8,23,"migrations"],[7,35,8,33],[7,37,8,35,"config"],[7,43,8,41],[7,45,8,43],[8,4,9,2],[8,8,9,6,"_ref"],[8,12,9,10],[8,15,9,13,"config"],[8,21,9,19],[8,25,9,23],[8,26,9,24],[8,27,9,25],[9,6,10,6,"debug"],[9,11,10,11],[9,14,10,14,"_ref"],[9,18,10,18],[9,19,10,19,"debug"],[9,24,10,24],[10,4,12,2],[10,11,12,9],[10,21,12,19,"state"],[10,26,12,24],[10,28,12,26,"currentVersion"],[10,42,12,40],[10,44,12,42],[11,6,13,4],[11,10,13,8],[11,11,13,9,"state"],[11,16,13,14],[11,18,13,16],[12,8,14,6],[12,12,14,10,"process"],[12,19,14,17],[12,20,14,18,"env"],[12,23,14,21],[12,24,14,22,"NODE_ENV"],[12,32,14,30],[12,37,14,35],[12,49,14,47],[12,53,14,51,"debug"],[12,58,14,56],[12,60,14,58,"console"],[12,67,14,65],[12,68,14,66,"log"],[12,71,14,69],[12,72,14,70],[12,125,14,123],[12,126,14,124],[13,8,15,6],[13,15,15,13,"Promise"],[13,22,15,20],[13,23,15,21,"resolve"],[13,30,15,28],[13,31,15,29,"undefined"],[13,40,15,38],[13,41,15,39],[14,6,16,4],[15,6,18,4],[15,10,18,8,"inboundVersion"],[15,24,18,22],[15,27,18,25,"state"],[15,32,18,30],[15,33,18,31,"_persist"],[15,41,18,39],[15,45,18,43,"state"],[15,50,18,48],[15,51,18,49,"_persist"],[15,59,18,57],[15,60,18,58,"version"],[15,67,18,65],[15,72,18,70,"undefined"],[15,81,18,79],[15,84,18,82,"state"],[15,89,18,87],[15,90,18,88,"_persist"],[15,98,18,96],[15,99,18,97,"version"],[15,106,18,104],[15,109,18,107,"_constants"],[15,119,18,117],[15,120,18,118,"DEFAULT_VERSION"],[15,135,18,133],[16,6,20,4],[16,10,20,8,"inboundVersion"],[16,24,20,22],[16,29,20,27,"currentVersion"],[16,43,20,41],[16,45,20,43],[17,8,21,6],[17,12,21,10,"process"],[17,19,21,17],[17,20,21,18,"env"],[17,23,21,21],[17,24,21,22,"NODE_ENV"],[17,32,21,30],[17,37,21,35],[17,49,21,47],[17,53,21,51,"debug"],[17,58,21,56],[17,60,21,58,"console"],[17,67,21,65],[17,68,21,66,"log"],[17,71,21,69],[17,72,21,70],[17,119,21,117],[17,120,21,118],[18,8,22,6],[18,15,22,13,"Promise"],[18,22,22,20],[18,23,22,21,"resolve"],[18,30,22,28],[18,31,22,29,"state"],[18,36,22,34],[18,37,22,35],[19,6,23,4],[20,6,25,4],[20,10,25,8,"inboundVersion"],[20,24,25,22],[20,27,25,25,"currentVersion"],[20,41,25,39],[20,43,25,41],[21,8,26,6],[21,12,26,10,"process"],[21,19,26,17],[21,20,26,18,"env"],[21,23,26,21],[21,24,26,22,"NODE_ENV"],[21,32,26,30],[21,37,26,35],[21,49,26,47],[21,51,26,49,"console"],[21,58,26,56],[21,59,26,57,"error"],[21,64,26,62],[21,65,26,63],[21,118,26,116],[21,119,26,117],[22,8,27,6],[22,15,27,13,"Promise"],[22,22,27,20],[22,23,27,21,"resolve"],[22,30,27,28],[22,31,27,29,"state"],[22,36,27,34],[22,37,27,35],[23,6,28,4],[24,6,30,4],[24,10,30,8,"migrationKeys"],[24,23,30,21],[24,26,30,24,"Object"],[24,32,30,30],[24,33,30,31,"keys"],[24,37,30,35],[24,38,30,36,"migrations"],[24,48,30,46],[24,49,30,47],[24,50,30,48,"map"],[24,53,30,51],[24,54,30,52],[24,64,30,62,"ver"],[24,67,30,65],[24,69,30,67],[25,8,31,6],[25,15,31,13,"parseInt"],[25,23,31,21],[25,24,31,22,"ver"],[25,27,31,25],[25,28,31,26],[26,6,32,4],[26,7,32,5],[26,8,32,6],[26,9,32,7,"filter"],[26,15,32,13],[26,16,32,14],[26,26,32,24,"key"],[26,29,32,27],[26,31,32,29],[27,8,33,6],[27,15,33,13,"currentVersion"],[27,29,33,27],[27,33,33,31,"key"],[27,36,33,34],[27,40,33,38,"key"],[27,43,33,41],[27,46,33,44,"inboundVersion"],[27,60,33,58],[28,6,34,4],[28,7,34,5],[28,8,34,6],[28,9,34,7,"sort"],[28,13,34,11],[28,14,34,12],[28,24,34,22,"a"],[28,25,34,23],[28,27,34,25,"b"],[28,28,34,26],[28,30,34,28],[29,8,35,6],[29,15,35,13,"a"],[29,16,35,14],[29,19,35,17,"b"],[29,20,35,18],[30,6,36,4],[30,7,36,5],[30,8,36,6],[31,6,37,4],[31,10,37,8,"process"],[31,17,37,15],[31,18,37,16,"env"],[31,21,37,19],[31,22,37,20,"NODE_ENV"],[31,30,37,28],[31,35,37,33],[31,47,37,45],[31,51,37,49,"debug"],[31,56,37,54],[31,58,37,56,"console"],[31,65,37,63],[31,66,37,64,"log"],[31,69,37,67],[31,70,37,68],[31,100,37,98],[31,102,37,100,"migrationKeys"],[31,115,37,113],[31,116,37,114],[32,6,39,4],[32,10,39,8],[33,8,40,6],[33,12,40,10,"migratedState"],[33,25,40,23],[33,28,40,26,"migrationKeys"],[33,41,40,39],[33,42,40,40,"reduce"],[33,48,40,46],[33,49,40,47],[33,59,40,57,"state"],[33,64,40,62],[33,66,40,64,"versionKey"],[33,76,40,74],[33,78,40,76],[34,10,41,8],[34,14,41,12,"process"],[34,21,41,19],[34,22,41,20,"env"],[34,25,41,23],[34,26,41,24,"NODE_ENV"],[34,34,41,32],[34,39,41,37],[34,51,41,49],[34,55,41,53,"debug"],[34,60,41,58],[34,62,41,60,"console"],[34,69,41,67],[34,70,41,68,"log"],[34,73,41,71],[34,74,41,72],[34,123,41,121],[34,125,41,123,"versionKey"],[34,135,41,133],[34,136,41,134],[35,10,42,8],[35,17,42,15,"migrations"],[35,27,42,25],[35,28,42,26,"versionKey"],[35,38,42,36],[35,39,42,37],[35,40,42,38,"state"],[35,45,42,43],[35,46,42,44],[36,8,43,6],[36,9,43,7],[36,11,43,9,"state"],[36,16,43,14],[36,17,43,15],[37,8,44,6],[37,15,44,13,"Promise"],[37,22,44,20],[37,23,44,21,"resolve"],[37,30,44,28],[37,31,44,29,"migratedState"],[37,44,44,42],[37,45,44,43],[38,6,45,4],[38,7,45,5],[38,8,45,6],[38,15,45,13,"err"],[38,18,45,16],[38,20,45,18],[39,8,46,6],[39,15,46,13,"Promise"],[39,22,46,20],[39,23,46,21,"reject"],[39,29,46,27],[39,30,46,28,"err"],[39,33,46,31],[39,34,46,32],[40,6,47,4],[41,4,48,2],[41,5,48,3],[42,2,49,0],[43,0,49,1],[43,3]],"functionMap":{"names":["<global>","createMigrate","<anonymous>","Object.keys.map$argument_0","Object.keys.map.filter$argument_0","Object.keys.map.filter.sort$argument_0","migrationKeys.reduce$argument_0"],"mappings":"AAA;ACO;SCI;oDCkB;KDE,SE;KFE,OG;KHE;+CII;OJG;GDK"}},"type":"js/module"}]}