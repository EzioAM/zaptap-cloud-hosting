{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":67,"index":82}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use client';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useReleasingSharedObject = useReleasingSharedObject;\n  var _react = require(_dependencyMap[0], \"react\");\n  /**\n   * Returns a shared object, which is automatically cleaned up when the component is unmounted.\n   */\n  function useReleasingSharedObject(factory, dependencies) {\n    var objectRef = (0, _react.useRef)(null);\n    var isFastRefresh = (0, _react.useRef)(false);\n    var previousDependencies = (0, _react.useRef)(dependencies);\n    if (objectRef.current == null) {\n      objectRef.current = factory();\n    }\n    var object = (0, _react.useMemo)(function () {\n      var _previousDependencies;\n      var newObject = objectRef.current;\n      var dependenciesAreEqual = ((_previousDependencies = previousDependencies.current) == null ? void 0 : _previousDependencies.length) === dependencies.length && dependencies.every(function (value, index) {\n        return value === previousDependencies.current[index];\n      });\n\n      // If the dependencies have changed, release the previous object and create a new one, otherwise this has been called\n      // because of a fast refresh, and we don't want to release the object.\n      if (!newObject || !dependenciesAreEqual) {\n        var _objectRef$current;\n        (_objectRef$current = objectRef.current) == null || _objectRef$current.release();\n        newObject = factory();\n        objectRef.current = newObject;\n        previousDependencies.current = dependencies;\n      } else {\n        isFastRefresh.current = true;\n      }\n      return newObject;\n    }, dependencies);\n    (0, _react.useEffect)(function () {\n      isFastRefresh.current = false;\n      return function () {\n        // This will be called on every fast refresh and on unmount, but we only want to release the object on unmount.\n        if (!isFastRefresh.current && objectRef.current) {\n          objectRef.current.release();\n        }\n      };\n    }, []);\n    return object;\n  }\n});","lineCount":50,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13,"exports"],[7,9,1,13],[7,10,1,13,"useReleasingSharedObject"],[7,34,1,13],[7,37,1,13,"useReleasingSharedObject"],[7,61,1,13],[8,2,3,0],[8,6,3,0,"_react"],[8,12,3,0],[8,15,3,0,"require"],[8,22,3,0],[8,23,3,0,"_dependencyMap"],[8,37,3,0],[9,2,7,0],[10,0,8,0],[11,0,9,0],[12,2,10,7],[12,11,10,16,"useReleasingSharedObject"],[12,35,10,40,"useReleasingSharedObject"],[12,36,11,2,"factory"],[12,43,11,30],[12,45,12,2,"dependencies"],[12,57,12,30],[12,59,13,17],[13,4,14,2],[13,8,14,8,"objectRef"],[13,17,14,17],[13,20,14,20],[13,24,14,20,"useRef"],[13,37,14,26],[13,39,14,49],[13,43,14,53],[13,44,14,54],[14,4,15,2],[14,8,15,8,"isFastRefresh"],[14,21,15,21],[14,24,15,24],[14,28,15,24,"useRef"],[14,41,15,30],[14,43,15,31],[14,48,15,36],[14,49,15,37],[15,4,16,2],[15,8,16,8,"previousDependencies"],[15,28,16,28],[15,31,16,31],[15,35,16,31,"useRef"],[15,48,16,37],[15,50,16,54,"dependencies"],[15,62,16,66],[15,63,16,67],[16,4,18,2],[16,8,18,6,"objectRef"],[16,17,18,15],[16,18,18,16,"current"],[16,25,18,23],[16,29,18,27],[16,33,18,31],[16,35,18,33],[17,6,19,4,"objectRef"],[17,15,19,13],[17,16,19,14,"current"],[17,23,19,21],[17,26,19,24,"factory"],[17,33,19,31],[17,34,19,32],[17,35,19,33],[18,4,20,2],[19,4,22,2],[19,8,22,8,"object"],[19,14,22,14],[19,17,22,17],[19,21,22,17,"useMemo"],[19,35,22,24],[19,37,22,25],[19,49,22,31],[20,6,22,31],[20,10,22,31,"_previousDependencies"],[20,31,22,31],[21,6,23,4],[21,10,23,8,"newObject"],[21,19,23,17],[21,22,23,20,"objectRef"],[21,31,23,29],[21,32,23,30,"current"],[21,39,23,37],[22,6,24,4],[22,10,24,10,"dependenciesAreEqual"],[22,30,24,30],[22,33,25,6],[22,35,25,6,"_previousDependencies"],[22,56,25,6],[22,59,25,6,"previousDependencies"],[22,79,25,26],[22,80,25,27,"current"],[22,87,25,34],[22,108,25,6,"_previousDependencies"],[22,129,25,6],[22,130,25,36,"length"],[22,136,25,42],[22,142,25,47,"dependencies"],[22,154,25,59],[22,155,25,60,"length"],[22,161,25,66],[22,165,26,6,"dependencies"],[22,177,26,18],[22,178,26,19,"every"],[22,183,26,24],[22,184,26,25],[22,194,26,26,"value"],[22,199,26,31],[22,201,26,33,"index"],[22,206,26,38],[23,8,26,38],[23,15,26,43,"value"],[23,20,26,48],[23,25,26,53,"previousDependencies"],[23,45,26,73],[23,46,26,74,"current"],[23,53,26,81],[23,54,26,82,"index"],[23,59,26,87],[23,60,26,88],[24,6,26,88],[24,8,26,89],[26,6,28,4],[27,6,29,4],[28,6,30,4],[28,10,30,8],[28,11,30,9,"newObject"],[28,20,30,18],[28,24,30,22],[28,25,30,23,"dependenciesAreEqual"],[28,45,30,43],[28,47,30,45],[29,8,30,45],[29,12,30,45,"_objectRef$current"],[29,30,30,45],[30,8,31,6],[30,9,31,6,"_objectRef$current"],[30,27,31,6],[30,30,31,6,"objectRef"],[30,39,31,15],[30,40,31,16,"current"],[30,47,31,23],[30,60,31,6,"_objectRef$current"],[30,78,31,6],[30,79,31,25,"release"],[30,86,31,32],[30,87,31,33],[30,88,31,34],[31,8,32,6,"newObject"],[31,17,32,15],[31,20,32,18,"factory"],[31,27,32,25],[31,28,32,26],[31,29,32,27],[32,8,33,6,"objectRef"],[32,17,33,15],[32,18,33,16,"current"],[32,25,33,23],[32,28,33,26,"newObject"],[32,37,33,35],[33,8,34,6,"previousDependencies"],[33,28,34,26],[33,29,34,27,"current"],[33,36,34,34],[33,39,34,37,"dependencies"],[33,51,34,49],[34,6,35,4],[34,7,35,5],[34,13,35,11],[35,8,36,6,"isFastRefresh"],[35,21,36,19],[35,22,36,20,"current"],[35,29,36,27],[35,32,36,30],[35,36,36,34],[36,6,37,4],[37,6,38,4],[37,13,38,11,"newObject"],[37,22,38,20],[38,4,39,2],[38,5,39,3],[38,7,39,5,"dependencies"],[38,19,39,17],[38,20,39,18],[39,4,41,2],[39,8,41,2,"useEffect"],[39,24,41,11],[39,26,41,12],[39,38,41,18],[40,6,42,4,"isFastRefresh"],[40,19,42,17],[40,20,42,18,"current"],[40,27,42,25],[40,30,42,28],[40,35,42,33],[41,6,44,4],[41,13,44,11],[41,25,44,17],[42,8,45,6],[43,8,46,6],[43,12,46,10],[43,13,46,11,"isFastRefresh"],[43,26,46,24],[43,27,46,25,"current"],[43,34,46,32],[43,38,46,36,"objectRef"],[43,47,46,45],[43,48,46,46,"current"],[43,55,46,53],[43,57,46,55],[44,10,47,8,"objectRef"],[44,19,47,17],[44,20,47,18,"current"],[44,27,47,25],[44,28,47,26,"release"],[44,35,47,33],[44,36,47,34],[44,37,47,35],[45,8,48,6],[46,6,49,4],[46,7,49,5],[47,4,50,2],[47,5,50,3],[47,7,50,5],[47,9,50,7],[47,10,50,8],[48,4,52,2],[48,11,52,9,"object"],[48,17,52,15],[49,2,53,0],[50,0,53,1],[50,3]],"functionMap":{"names":["<global>","useReleasingSharedObject","useMemo$argument_0","dependencies.every$argument_0","useEffect$argument_0","<anonymous>"],"mappings":"AAA;OCS;yBCY;yBCI,+DD;GDa;YGE;WCG;KDK;GHC;CDG"}},"type":"js/module"}]}