{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"]}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"]}},{"name":"react-redux","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":42,"index":42}}],"key":"kZ4/idPhugyPFHafSDEx3FuasdM=","exportNames":["*"]}},{"name":"../constants/roles","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":81},"end":{"line":3,"column":76,"index":157}}],"key":"yD2zk7uDqwHiMgOxXJyoaT6c6gE=","exportNames":["*"]}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":158},"end":{"line":4,"column":44,"index":202}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"]}},{"name":"../services/auth/RoleService","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":203},"end":{"line":5,"column":59,"index":262}}],"key":"nsJSHc3uLA5DUJxGuAROF6Wi/mc=","exportNames":["*"]}},{"name":"../utils/EventLogger","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":263},"end":{"line":6,"column":51,"index":314}}],"key":"yE50x5RqRtg1gxlUHvyLXkSBAF0=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useUserRole = void 0;\n  var _asyncToGenerator2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/asyncToGenerator\"));\n  var _slicedToArray2 = _interopRequireDefault(require(_dependencyMap[2], \"@babel/runtime/helpers/slicedToArray\"));\n  var _reactRedux = require(_dependencyMap[3], \"react-redux\");\n  var _roles = require(_dependencyMap[4], \"../constants/roles\");\n  var _react = require(_dependencyMap[5], \"react\");\n  var _RoleService = require(_dependencyMap[6], \"../services/auth/RoleService\");\n  var _EventLogger = require(_dependencyMap[7], \"../utils/EventLogger\");\n  var _s = $RefreshSig$();\n  var useUserRole = exports.useUserRole = function useUserRole() {\n    _s();\n    var _useSelector = (0, _reactRedux.useSelector)(function (state) {\n        return state.auth;\n      }),\n      user = _useSelector.user,\n      isAuthenticated = _useSelector.isAuthenticated;\n    var _useState = (0, _react.useState)(_roles.USER_ROLES.USER),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      role = _useState2[0],\n      setRole = _useState2[1];\n    var _useState3 = (0, _react.useState)(true),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      isLoading = _useState4[0],\n      setIsLoading = _useState4[1];\n    (0, _react.useEffect)(function () {\n      var checkRole = /*#__PURE__*/function () {\n        var _ref = (0, _asyncToGenerator2.default)(function* () {\n          if (!isAuthenticated || !user) {\n            setRole(_roles.USER_ROLES.USER);\n            setIsLoading(false);\n            return;\n          }\n          try {\n            // Quick check for developer emails\n            if (_roles.DEVELOPER_EMAILS.includes(user.email.toLowerCase())) {\n              setRole(_roles.USER_ROLES.DEVELOPER);\n              setIsLoading(false);\n              return;\n            }\n\n            // Check with RoleService for database role\n            var userRole = yield _RoleService.RoleService.getCurrentUserRole();\n            setRole(userRole);\n          } catch (error) {\n            _EventLogger.EventLogger.error('useUserRole', 'Error checking user role:', error);\n            setRole(_roles.USER_ROLES.USER);\n          } finally {\n            setIsLoading(false);\n          }\n        });\n        return function checkRole() {\n          return _ref.apply(this, arguments);\n        };\n      }();\n      checkRole();\n    }, [user, isAuthenticated]);\n    var isDeveloper = role === _roles.USER_ROLES.DEVELOPER || role === _roles.USER_ROLES.SUPER_ADMIN;\n    var isAdmin = role === _roles.USER_ROLES.ADMIN || role === _roles.USER_ROLES.SUPER_ADMIN;\n    var isSuperAdmin = role === _roles.USER_ROLES.SUPER_ADMIN;\n    return {\n      role: role,\n      isDeveloper: isDeveloper,\n      isAdmin: isAdmin,\n      isSuperAdmin: isSuperAdmin,\n      isLoading: isLoading,\n      userEmail: (user == null ? void 0 : user.email) || ''\n    };\n  };\n  _s(useUserRole, \"mTBDajX9RpRjgvXLqWmu6Mp5JbU=\", false, function () {\n    return [_reactRedux.useSelector];\n  });\n});","lineCount":77,"map":[[9,2,1,0],[9,6,1,0,"_reactRedux"],[9,17,1,0],[9,20,1,0,"require"],[9,27,1,0],[9,28,1,0,"_dependencyMap"],[9,42,1,0],[10,2,3,0],[10,6,3,0,"_roles"],[10,12,3,0],[10,15,3,0,"require"],[10,22,3,0],[10,23,3,0,"_dependencyMap"],[10,37,3,0],[11,2,4,0],[11,6,4,0,"_react"],[11,12,4,0],[11,15,4,0,"require"],[11,22,4,0],[11,23,4,0,"_dependencyMap"],[11,37,4,0],[12,2,5,0],[12,6,5,0,"_RoleService"],[12,18,5,0],[12,21,5,0,"require"],[12,28,5,0],[12,29,5,0,"_dependencyMap"],[12,43,5,0],[13,2,6,0],[13,6,6,0,"_EventLogger"],[13,18,6,0],[13,21,6,0,"require"],[13,28,6,0],[13,29,6,0,"_dependencyMap"],[13,43,6,0],[14,2,6,51],[14,6,6,51,"_s"],[14,8,6,51],[14,11,6,51,"$RefreshSig$"],[14,23,6,51],[15,2,8,7],[15,6,8,13,"useUserRole"],[15,17,8,24],[15,20,8,24,"exports"],[15,27,8,24],[15,28,8,24,"useUserRole"],[15,39,8,24],[15,42,8,27],[15,51,8,13,"useUserRole"],[15,62,8,24,"useUserRole"],[15,63,8,24],[15,65,8,33],[16,4,8,33,"_s"],[16,6,8,33],[17,4,9,2],[17,8,9,2,"_useSelector"],[17,20,9,2],[17,23,9,36],[17,27,9,36,"useSelector"],[17,50,9,47],[17,52,9,48],[17,62,9,49,"state"],[17,67,9,65],[18,8,9,65],[18,15,9,70,"state"],[18,20,9,75],[18,21,9,76,"auth"],[18,25,9,80],[19,6,9,80],[19,8,9,81],[20,6,9,10,"user"],[20,10,9,14],[20,13,9,14,"_useSelector"],[20,25,9,14],[20,26,9,10,"user"],[20,30,9,14],[21,6,9,16,"isAuthenticated"],[21,21,9,31],[21,24,9,31,"_useSelector"],[21,36,9,31],[21,37,9,16,"isAuthenticated"],[21,52,9,31],[22,4,10,2],[22,8,10,2,"_useState"],[22,17,10,2],[22,20,10,26],[22,24,10,26,"useState"],[22,39,10,34],[22,41,10,45,"USER_ROLES"],[22,58,10,55],[22,59,10,56,"USER"],[22,63,10,60],[22,64,10,61],[23,6,10,61,"_useState2"],[23,16,10,61],[23,23,10,61,"_slicedToArray2"],[23,38,10,61],[23,39,10,61,"default"],[23,46,10,61],[23,48,10,61,"_useState"],[23,57,10,61],[24,6,10,9,"role"],[24,10,10,13],[24,13,10,13,"_useState2"],[24,23,10,13],[25,6,10,15,"setRole"],[25,13,10,22],[25,16,10,22,"_useState2"],[25,26,10,22],[26,4,11,2],[26,8,11,2,"_useState3"],[26,18,11,2],[26,21,11,36],[26,25,11,36,"useState"],[26,40,11,44],[26,42,11,45],[26,46,11,49],[26,47,11,50],[27,6,11,50,"_useState4"],[27,16,11,50],[27,23,11,50,"_slicedToArray2"],[27,38,11,50],[27,39,11,50,"default"],[27,46,11,50],[27,48,11,50,"_useState3"],[27,58,11,50],[28,6,11,9,"isLoading"],[28,15,11,18],[28,18,11,18,"_useState4"],[28,28,11,18],[29,6,11,20,"setIsLoading"],[29,18,11,32],[29,21,11,32,"_useState4"],[29,31,11,32],[30,4,13,2],[30,8,13,2,"useEffect"],[30,24,13,11],[30,26,13,12],[30,38,13,18],[31,6,14,4],[31,10,14,10,"checkRole"],[31,19,14,19],[32,8,14,19],[32,12,14,19,"_ref"],[32,16,14,19],[32,23,14,19,"_asyncToGenerator2"],[32,41,14,19],[32,42,14,19,"default"],[32,49,14,19],[32,51,14,22],[32,64,14,34],[33,10,15,6],[33,14,15,10],[33,15,15,11,"isAuthenticated"],[33,30,15,26],[33,34,15,30],[33,35,15,31,"user"],[33,39,15,35],[33,41,15,37],[34,12,16,8,"setRole"],[34,19,16,15],[34,20,16,16,"USER_ROLES"],[34,37,16,26],[34,38,16,27,"USER"],[34,42,16,31],[34,43,16,32],[35,12,17,8,"setIsLoading"],[35,24,17,20],[35,25,17,21],[35,30,17,26],[35,31,17,27],[36,12,18,8],[37,10,19,6],[38,10,21,6],[38,14,21,10],[39,12,22,8],[40,12,23,8],[40,16,23,12,"DEVELOPER_EMAILS"],[40,39,23,28],[40,40,23,29,"includes"],[40,48,23,37],[40,49,23,38,"user"],[40,53,23,42],[40,54,23,43,"email"],[40,59,23,48],[40,60,23,49,"toLowerCase"],[40,71,23,60],[40,72,23,61],[40,73,23,62],[40,74,23,63],[40,76,23,65],[41,14,24,10,"setRole"],[41,21,24,17],[41,22,24,18,"USER_ROLES"],[41,39,24,28],[41,40,24,29,"DEVELOPER"],[41,49,24,38],[41,50,24,39],[42,14,25,10,"setIsLoading"],[42,26,25,22],[42,27,25,23],[42,32,25,28],[42,33,25,29],[43,14,26,10],[44,12,27,8],[46,12,29,8],[47,12,30,8],[47,16,30,14,"userRole"],[47,24,30,22],[47,33,30,31,"RoleService"],[47,57,30,42],[47,58,30,43,"getCurrentUserRole"],[47,76,30,61],[47,77,30,62],[47,78,30,63],[48,12,31,8,"setRole"],[48,19,31,15],[48,20,31,16,"userRole"],[48,28,31,36],[48,29,31,37],[49,10,32,6],[49,11,32,7],[49,12,32,8],[49,19,32,15,"error"],[49,24,32,20],[49,26,32,22],[50,12,33,8,"EventLogger"],[50,36,33,19],[50,37,33,20,"error"],[50,42,33,25],[50,43,33,26],[50,56,33,39],[50,58,33,41],[50,85,33,68],[50,87,33,70,"error"],[50,92,33,84],[50,93,33,85],[51,12,34,8,"setRole"],[51,19,34,15],[51,20,34,16,"USER_ROLES"],[51,37,34,26],[51,38,34,27,"USER"],[51,42,34,31],[51,43,34,32],[52,10,35,6],[52,11,35,7],[52,20,35,16],[53,12,36,8,"setIsLoading"],[53,24,36,20],[53,25,36,21],[53,30,36,26],[53,31,36,27],[54,10,37,6],[55,8,38,4],[55,9,38,5],[56,8,38,5],[56,24,14,10,"checkRole"],[56,33,14,19,"checkRole"],[56,34,14,19],[57,10,14,19],[57,17,14,19,"_ref"],[57,21,14,19],[57,22,14,19,"apply"],[57,27,14,19],[57,34,14,19,"arguments"],[57,43,14,19],[58,8,14,19],[59,6,14,19],[59,9,38,5],[60,6,40,4,"checkRole"],[60,15,40,13],[60,16,40,14],[60,17,40,15],[61,4,41,2],[61,5,41,3],[61,7,41,5],[61,8,41,6,"user"],[61,12,41,10],[61,14,41,12,"isAuthenticated"],[61,29,41,27],[61,30,41,28],[61,31,41,29],[62,4,43,2],[62,8,43,8,"isDeveloper"],[62,19,43,19],[62,22,43,22,"role"],[62,26,43,26],[62,31,43,31,"USER_ROLES"],[62,48,43,41],[62,49,43,42,"DEVELOPER"],[62,58,43,51],[62,62,43,55,"role"],[62,66,43,59],[62,71,43,64,"USER_ROLES"],[62,88,43,74],[62,89,43,75,"SUPER_ADMIN"],[62,100,43,86],[63,4,44,2],[63,8,44,8,"isAdmin"],[63,15,44,15],[63,18,44,18,"role"],[63,22,44,22],[63,27,44,27,"USER_ROLES"],[63,44,44,37],[63,45,44,38,"ADMIN"],[63,50,44,43],[63,54,44,47,"role"],[63,58,44,51],[63,63,44,56,"USER_ROLES"],[63,80,44,66],[63,81,44,67,"SUPER_ADMIN"],[63,92,44,78],[64,4,45,2],[64,8,45,8,"isSuperAdmin"],[64,20,45,20],[64,23,45,23,"role"],[64,27,45,27],[64,32,45,32,"USER_ROLES"],[64,49,45,42],[64,50,45,43,"SUPER_ADMIN"],[64,61,45,54],[65,4,47,2],[65,11,47,9],[66,6,48,4,"role"],[66,10,48,8],[66,12,48,4,"role"],[66,16,48,8],[67,6,49,4,"isDeveloper"],[67,17,49,15],[67,19,49,4,"isDeveloper"],[67,30,49,15],[68,6,50,4,"isAdmin"],[68,13,50,11],[68,15,50,4,"isAdmin"],[68,22,50,11],[69,6,51,4,"isSuperAdmin"],[69,18,51,16],[69,20,51,4,"isSuperAdmin"],[69,32,51,16],[70,6,52,4,"isLoading"],[70,15,52,13],[70,17,52,4,"isLoading"],[70,26,52,13],[71,6,53,4,"userEmail"],[71,15,53,13],[71,17,53,15],[71,18,53,15,"user"],[71,22,53,19],[71,42,53,15,"user"],[71,46,53,19],[71,47,53,21,"email"],[71,52,53,26],[71,57,53,30],[72,4,54,2],[72,5,54,3],[73,2,55,0],[73,3,55,1],[74,2,55,2,"_s"],[74,4,55,2],[74,5,8,13,"useUserRole"],[74,16,8,24],[75,4,8,24],[75,12,9,36,"useSelector"],[75,35,9,47],[76,2,9,47],[77,0,9,47],[77,3]],"functionMap":{"names":["<global>","useUserRole","useSelector$argument_0","useEffect$argument_0","checkRole"],"mappings":"AAA;2BCO;gDCC,gCD;YEI;sBCC;KDwB;GFG;CDc"}},"type":"js/module"}]}